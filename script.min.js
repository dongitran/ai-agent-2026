/*! AI Agent 2026 - Optimized JS v1.0 */
(function(){'use strict';const debounce=(fn,wait)=>{let t;return(...args)=>{clearTimeout(t);t=setTimeout(()=>fn.apply(this,args),wait}};const throttle=(fn,limit)=>{let inThrottle;return(...args)=>{if(!inThrottle){fn.apply(this,args);inThrottle=true;setTimeout(()=>inThrottle=false,limit)}}};let particlesCreated=false;const createParticles=()=>{if(particlesCreated||!window.matchMedia('(prefers-reduced-motion: no-preference)').matches)return;const c=document.getElementById('particles');if(!c)return;particlesCreated=true;const count=8;for(let i=0;i<count;i++){const p=document.createElement('div');p.className='particle';const size=Math.random()*3+2,left=Math.random()*100,top=Math.random()*100,duration=Math.random()*15+15,delay=Math.random()*5;p.style.cssText=`position:absolute;width:${size}px;height:${size}px;background:rgba(99,102,241,${Math.random()*.3+.2});border-radius:50%;left:${left}%;top:${top}%;animation:float-particle ${duration}s ease-in-out ${delay}s infinite;pointer-events:none;will-change:transform,opacity`;c.appendChild(p)}};const animateStats=()=>{const stats=document.querySelectorAll('.stat-number'),obs=new IntersectionObserver((entries)=>{entries.forEach(e=>{if(e.isIntersecting){const t=e.target,fv=t.textContent,nm=fv.match(/[\d.]+/);if(!nm)return;const nv=parseFloat(nm[0]),sf=fv.replace(nm[0],''),hd=sf.includes('%'),dc=nm[0].includes('.');let cv=0,inc=nv/50,dur=1500,st=dur/50,cnt=setInterval(()=>{cv+=inc;if(cv>=nv){t.textContent=fv;clearInterval(cnt)}else t.textContent=(dc?cv.toFixed(1):Math.floor(cv))+sf},st);obs.unobserve(t)}})},{threshold:.5});stats.forEach(s=>obs.observe(s))};const initLazySections=()=>{const sections=document.querySelectorAll('.lazy-section'),obs=new IntersectionObserver((entries)=>{entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('visible');obs.unobserve(e.target)}})},{rootMargin:'50px',threshold:.1});sections.forEach(s=>obs.observe(s))};document.addEventListener('DOMContentLoaded',()=>{const nt=document.getElementById('navToggle'),nm=document.getElementById('navMenu');if(nt&&nm){nt.addEventListener('click',()=>{nm.classList.toggle('active');const i=nt.querySelector('i');i.classList.toggle('fa-bars');i.classList.toggle('fa-times')});nm.querySelectorAll('.nav-link').forEach(l=>l.addEventListener('click',()=>{nm.classList.remove('active');const i=nt.querySelector('i');i.classList.remove('fa-times');i.classList.add('fa-bars')}))}document.querySelectorAll('.tab-btn').forEach(b=>b.addEventListener('click',function(){const id=this.dataset.tab;document.querySelectorAll('.tab-btn').forEach(x=>x.classList.remove('active'));document.querySelectorAll('.tab-panel').forEach(x=>x.classList.remove('active'));this.classList.add('active');document.getElementById(id).classList.add('active')}));document.querySelectorAll('a[href^="#"]').forEach(a=>a.addEventListener('click',function(e){e.preventDefault();const t=document.querySelector(this.getAttribute('href'));if(t){const nh=document.querySelector('.navbar').offsetHeight,tp=t.getBoundingClientRect().top+window.pageYOffset-nh;window.scrollTo({top:tp,behavior:'smooth'})}}));const nb=document.querySelector('.navbar');window.addEventListener('scroll',throttle(()=>{const cs=window.pageYOffset;nb.style.background=cs>50?'rgba(15,15,26,.95)':'rgba(15,15,26,.8)'},100));createParticles();initLazySections();animateStats()});window.addEventListener('scroll',debounce(()=>{const se=document.querySelectorAll('section[id]'),nl=document.querySelectorAll('.nav-link'),sp=window.pageYOffset+100;se.forEach(s=>{const st=s.offsetTop,sh=s.offsetHeight,sid=s.getAttribute('id');if(sp>=st&&sp<st+sh)nl.forEach(l=>{l.classList.remove('active');if(l.getAttribute('href')==='#'+sid)l.classList.add('active')})})},100))})();